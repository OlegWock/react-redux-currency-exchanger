{"version":3,"sources":["actions/rates.js","components/Converter.js","components/Button.js","components/App.js","serviceWorker.js","index.js","utils/currencies.js","components/Converter.module.scss","utils/api.js","components/App.module.scss","reducers/index.js","reducers/rates.js","store.js","components/CalcButton.js","components/Calculator.module.scss","components/Button.module.scss","components/Calculator.js","components/CalcButton.module.scss","utils/parser.js"],"names":["setRates","rates","type","payload","Converter","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","api","API","state","from","from_code","to","convert","to_code","_swapHovered","selectOptions","currenciesCodesList","map","el","value","label","calculate","bind","assertThisInitialized","handleCurrencyChange","mode","arguments","length","undefined","e","setState","target","parseFloat","_this2","which","defineProperty","concat","_this3","react_default","a","createElement","className","styles","row","pair","min","step","onChange","react_select_esm","select","options","filter","val","fa","swap","animated","onClick","swapValues","onMouseEnter","onMouseLeave","Component","connect","store","data","updated_at","dispatch","Button","disabled","handleClick","children","defaultProps","App","currentMode","checkerTimerId","setInterval","checkRates","clearInterval","currencies","console","log","ratesUpdatedAt","Date","now","_ref","asyncToGenerator","regenerator_default","mark","_callee","getState","wrap","_context","prev","next","updateRates","sent","stop","_x","_x2","apply","screen","mainComponent","switchButton","components_Converter","components_Button","Calculator","heading","built_by","heart","href","rel","Boolean","window","location","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","__webpack_require__","d","__webpack_exports__","currenciesSymbolToCode","$","€","₽","₴","module","exports","flip","apiKey","process","_home_oleg_work_ex_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","baseUrl","baseCurrency","axios","url","method","params","access_key","join","result","quotes","amount","fromCode","toCode","Math","round","combineReducers","action","objectSpread","initialState","middleware","thunk","composedEnhancers","compose","applyMiddleware","createStore","rootReducer","serializedState","localStorage","getItem","JSON","parse","err","loadState","subscribe","throttle","stringify","setItem","_unused","saveState","CalcButton","_home_oleg_work_ex_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_oleg_work_ex_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_oleg_work_ex_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_5___default","buttons","examples","example","inputs","error","shake","exppression","result_currency","expression","current_currency","inputRef","React","createRef","addToExpression","_home_oleg_work_ex_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","loadExample","node","current","cursor","selectionStart","exp","slice","focus","selectionEnd","toUpperCase","_this4","_parse","valid","tokens","setTimeout","resultExp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","token","currency","toString","return","eval","arg","_this5","react__WEBPACK_IMPORTED_MODULE_6___default","handleExpressionChange","ref","react_select__WEBPACK_IMPORTED_MODULE_10__","handleResultCurrencyChange","numeral","format","_CalcButton__WEBPACK_IMPORTED_MODULE_9__","mapStateToProps","mapDispatchToProps","_currencies__WEBPACK_IMPORTED_MODULE_0__","sym","split","curPos","curToken","nestingLevel","curCh","test","push","prevToken","substr","includes"],"mappings":"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","file":"static/js/main.cf8e96f6.chunk.js","sourcesContent":["export const fetchRates = (api, currencies) => {\n    return async (dispatch, getState) => {\n        let rates = await api.updateRates(currencies);\n        dispatch(setRates(rates));\n    };\n};\n\nexport const setRates = (rates) => {\n    return {\n        type: 'SET_RATES',\n        payload: rates\n    }\n};","import React, { Component } from 'react';\nimport styles from './Converter.module.scss';\nimport { connect } from 'react-redux';\nimport { FaExchangeAlt } from 'react-icons/fa';\nimport Select from 'react-select'\nimport {currenciesCodesList} from '../utils/currencies';\nimport API from '../utils/api';\n\nclass Converter extends Component {\n    constructor(props) {\n        super(props);\n\n        this.api = new API();\n        this.state = {\n            from: 1,\n            from_code: 'USD',\n            to: this.api.convert(1, 'USD', 'UAH'),\n            to_code: 'UAH',\n\n            _swapHovered: false\n        };\n\n        this.selectOptions = currenciesCodesList.map((el) => {\n            return {value: el, label: el};\n        });\n\n\n        this.calculate = this.calculate.bind(this);\n        this.handleCurrencyChange = this.handleCurrencyChange.bind(this);\n    }\n\n    calculate(mode='from', e=null, fromExt=false) {\n        let from, to;\n        if (!fromExt) {\n            if (!e.target.value) {\n                this.setState({\n                    from: 0,\n                    to: 0\n                });\n                return;\n            }\n            if (mode === 'from') {\n                from = parseFloat(e.target.value);\n                to = this.api.convert(from, this.state.from_code, this.state.to_code);\n            } else {\n                to = parseFloat(e.target.value);\n                from = this.api.convert(to, this.state.to_code, this.state.from_code);\n            }\n            this.setState({\n                from,\n                to\n            });\n        } else {\n            to = this.api.convert(this.state.from, this.state.from_code, this.state.to_code);\n            this.setState({\n                to\n            });\n        }\n\n\n    }\n\n    handleCurrencyChange(which='from', {value}) {\n        this.setState({\n            [`${which}_code`]: value\n        }, () => this.calculate(null, null, true));\n\n    }\n\n    swapValues() {\n        this.setState({\n            from: this.state.to,\n            to: this.state.from,\n            from_code: this.state.to_code,\n            to_code: this.state.from_code\n        });\n    }\n\n\n\n    render() {\n        return (\n            <div className={styles.Converter}>\n                <div className={styles.row}>\n                    <div className={styles.pair}>\n                        <input value={this.state.from} type=\"number\" min=\"0\" step=\"1\" onChange={(e) => this.calculate('from', e)}/>\n                        <Select\n                            className={styles.select}\n                            options={this.selectOptions}\n                            value={this.selectOptions.filter((e) => e.value === this.state.from_code)[0]}\n                            onChange={(val) => this.handleCurrencyChange('from', val)}\n                        />\n                    </div>\n                    <FaExchangeAlt\n                        className={this.state._swapHovered ? `${styles.swap} ${styles.animated}` : styles.swap}\n                        onClick={this.swapValues.bind(this)}\n                        onMouseEnter={() => this.setState({_swapHovered: true})}\n                        onMouseLeave={() => this.setState({_swapHovered: false})}\n                    />\n                    <div className={styles.pair}>\n                        <input value={this.state.to} type=\"number\" min=\"0\" step=\"1\" onChange={(e) => this.calculate('to', e)}/>\n                        <Select\n                            className={styles.select}\n                            options={this.selectOptions}\n                            value={this.selectOptions.filter((e) => e.value === this.state.to_code)[0]}\n                            onChange={(val) => this.handleCurrencyChange('to', val)}\n                        />\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = store => {\n    return {\n        rates: store.rates.data,\n        updated_at: store.rates.updated_at\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        dispatch: dispatch\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Converter)\n","import React, { Component } from 'react';\nimport styles from './Button.module.scss';\nimport PropTypes from 'prop-types';\n\n\nclass Button extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n\n    }\n\n    handleClick(e) {\n        if (!this.props.disabled) {\n            this.props.onClick(e);\n        }\n    }\n\n\n    render() {\n        return (\n            <div className={styles.Button} onClick={this.handleClick.bind(this)}>\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nButton.propTypes = {\n    disabled: PropTypes.bool,\n    onClick: PropTypes.func\n};\n\nButton.defaultProps = {\n    disabled: false,\n    onClick: () => {}\n};\n\n\nexport default Button;","import React, { Component } from 'react';\nimport styles from './App.module.scss';\nimport { connect } from 'react-redux';\nimport API from '../utils/api';\nimport {currenciesCodesList} from '../utils/currencies';\nimport {fetchRates} from \"../actions/rates\";\nimport Converter from './Converter';\nimport Button from \"./Button\";\nimport Calculator from \"./Calculator\";\nimport { FaHeart } from 'react-icons/fa';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentMode: 'converter'\n        };\n        this.api = new API();\n    }\n\n    componentDidMount() {\n        this.checkerTimerId = setInterval(this.checkRates.bind(this), 1000 * 60 * 2);\n        this.checkRates.call(this);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.checkerTimerId);\n    }\n\n    checkRates() {\n        console.log('Checking rates', this.props.ratesUpdatedAt);\n        if ((Date.now() - this.props.ratesUpdatedAt) > 1000 * 60 * 60 * 18) {\n            this.props.dispatch(fetchRates(this.api, currenciesCodesList));\n        }\n    }\n\n    switchTo(screen) {\n        this.setState({currentMode: screen});\n    }\n\n\n    render() {\n        let mainComponent;\n        let switchButton;\n\n        if (this.state.currentMode === 'converter') {\n            mainComponent = <Converter />;\n            switchButton = <Button onClick={() => this.setState({currentMode: 'calculator'})}>\n                Switch to calculator\n            </Button>;\n        } else {\n            mainComponent = <Calculator></Calculator>;\n            switchButton = <Button onClick={() => this.setState({currentMode: 'converter'})}>\n                Switch to converter\n            </Button>;\n        }\n\n\n        return (\n            <div className={styles.App}>\n                <main>\n                    <div className={styles.heading}>\n                        <span>{this.state.currentMode}</span>\n                        {switchButton}\n                    </div>\n\n                    {mainComponent}\n\n                    <div className={styles.built_by}>Made with <FaHeart className={styles.heart} /> by <a\n                        href=\"https://github.com/OlegWock\" target=\"_blank\" rel=\"noopener noreferrer\">OlegWock</a> using\n                        React. Check out source code <a href=\"https://github.com/OlegWock/react-redux-currency-exchanger\"\n                                                 rel=\"noopener noreferrer\" target=\"_blank\">here</a>.</div>\n                </main>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = store => {\n    return {\n        ratesUpdatedAt: store.rates.updated_at,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        dispatch: dispatch\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store';\nimport './index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const currenciesCodesList = [\n    'USD',\n    'EUR',\n    'RUB',\n    'UAH',\n    'CAD',\n    'GBP',\n    'JPY',\n    'MXN',\n    'RON',\n    'SEK',\n    'NOK'\n];\n\nexport const currenciesSymbolToCode = {\n    '$': 'USD',\n    '€': 'EUR',\n    '₽': 'RUB',\n    '₴': 'UAH'\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Converter\":\"Converter_Converter__2DGjb\",\"row\":\"Converter_row__g4Wvy\",\"pair\":\"Converter_pair__2_kX0\",\"select\":\"Converter_select__11atT\",\"swap\":\"Converter_swap__1gDog\",\"animated\":\"Converter_animated__21pUa\",\"flip\":\"Converter_flip__2kDQx\"};","import axios from 'axios';\nimport store from '../store';\n\nclass API {\n    constructor(apiKey=process.env.REACT_APP_API_KEY) {\n        this.apiKey = apiKey;\n        this.baseUrl = `http://apilayer.net/api/`;\n        this.baseCurrency = 'USD';\n    }\n\n    async updateRates(currencies) {\n        let result = await axios({\n            url: this.baseUrl + 'live',\n            method: 'get',\n            params: {\n                access_key: this.apiKey,\n                currencies: currencies.join(',')\n            }\n        });\n\n        return result.data.quotes;\n    }\n\n    convert(amount, fromCode, toCode) {\n        let rates = store.getState().rates.data;\n        let result;\n\n        if (`${fromCode}${toCode}` in rates) {\n            result = amount * rates[`${fromCode}${toCode}`];\n        }\n\n        else if (`${toCode}${fromCode}` in rates) {\n            result = amount * (1 / rates[`${toCode}${fromCode}`]);\n        }\n\n        else  if (`${this.baseCurrency}${fromCode}` in rates\n                  && `${this.baseCurrency}${toCode}` in rates) {\n            result = amount * (1 / rates[`${this.baseCurrency}${fromCode}`]);\n            result = result * rates[`${this.baseCurrency}${toCode}`];\n        }\n\n        return Math.round(result * 10000)/10000;\n    }\n}\n\nexport default API;\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1ZM_Q\",\"heart\":\"App_heart__j1ubU\",\"heading\":\"App_heading__3JPzD\",\"built_by\":\"App_built_by__P1q5z\"};","import { combineReducers } from 'redux';\nimport rates from './rates';\n\nexport default combineReducers({ rates });","export default (state, action) => {\n\n    if (action.type === 'SET_RATES') {\n        return {\n            data: {\n                ...state.data,\n                ...action.payload\n            },\n            updated_at: Date.now()\n        }\n    }\n\n    return state || {};\n};","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport throttle from 'lodash/throttle';\nimport rootReducer from './reducers';\n\nconst loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('RX_CALCULATOR');\n        if (serializedState === null) {\n            return initialState;\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        return initialState;\n    }\n};\n\nconst saveState = (state) => {\n    try {\n        const serializedState = JSON.stringify(state);\n        localStorage.setItem('RX_CALCULATOR', serializedState);\n    } catch {\n\n    }\n};\n\nconst initialState = {\n    rates: {\n        data: {},\n        updated_at: 0,\n    }\n};\nconst enhancers = [];\nconst middleware = [\n    thunk,\n];\n\nif (process.env.NODE_ENV === 'development') {\n    const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__;\n\n    if (typeof devToolsExtension === 'function') {\n        enhancers.push(devToolsExtension());\n    }\n}\n\nconst composedEnhancers = compose(\n    applyMiddleware(...middleware),\n    ...enhancers\n);\n\nconst store = createStore(\n    rootReducer,\n    loadState(),\n    composedEnhancers\n);\n\nstore.subscribe(throttle(() => {\n    saveState(store.getState());\n}));\n\nexport default store;","import React, { Component } from 'react';\nimport styles from './CalcButton.module.scss';\nimport PropTypes from 'prop-types';\n\n\nclass CalcButton extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n\n    }\n\n    handleClick(e) {\n        if (!this.props.disabled) {\n            this.props.onClick(e);\n        }\n    }\n\n\n    render() {\n        return (\n            <div className={styles.CalcButton} onClick={this.handleClick.bind(this)}>\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nCalcButton.propTypes = {\n    disabled: PropTypes.bool,\n    onClick: PropTypes.func\n};\n\nCalcButton.defaultProps = {\n    disabled: false,\n    onClick: () => {}\n};\n\n\nexport default CalcButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Calculator\":\"Calculator_Calculator__3e5KQ\",\"buttons\":\"Calculator_buttons__2sxjY\",\"row\":\"Calculator_row__3qZ2y\",\"select\":\"Calculator_select__2OKge\",\"result\":\"Calculator_result__1Qewn\",\"examples\":\"Calculator_examples__2nfoJ\",\"example\":\"Calculator_example__JpLnD\",\"inputs\":\"Calculator_inputs__JBVpN\",\"error\":\"Calculator_error__o5eYM\",\"shake\":\"Calculator_shake__eqefa\",\"exppression\":\"Calculator_exppression__2oE6a\",\"result_currency\":\"Calculator_result_currency__1gcVW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1YhXQ\"};","import React, { Component } from 'react';\nimport styles from './Calculator.module.scss';\nimport { connect } from 'react-redux';\nimport CalcButton from './CalcButton';\nimport Select from 'react-select';\nimport { currenciesCodesList } from '../utils/currencies';\nimport API from '../utils/api';\nimport numeral from 'numeral';\nimport parse from '../utils/parser';\n\n\nclass Calculator extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            expression: \"\",\n            error: false,\n\n            current_currency: \"\",\n            result_currency: \"USD\",\n            result: 0\n        };\n\n        this.api = new API();\n\n        this.selectOptions = currenciesCodesList.map((el) => {\n            return {value: el, label: el};\n        });\n\n        this.inputRef = React.createRef();\n\n        this.addToExpression = this.addToExpression.bind(this);\n        this.loadExample = this.loadExample.bind(this);\n\n    }\n\n    addToExpression(action) {\n        let node = this.inputRef.current;\n        let cursor = node.selectionStart;\n        let exp = this.state.expression;\n        this.setState({\n            expression: [exp.slice(0, cursor), action, exp.slice(cursor)].join('')\n        }, () => {\n            this.inputRef.current.focus();\n            node.selectionStart = node.selectionEnd = cursor+1;\n        });\n\n    }\n\n\n    handleExpressionChange(e) {\n        let val = e.target.value.toUpperCase();\n        this.setState({expression: val})\n    }\n\n    handleResultCurrencyChange({ value }) {\n        this.setState({result_currency: value}, () => {\n            let valid = this.calculate();\n            if (!valid) {\n                this.setState({result: 0});\n            }\n        });\n    }\n\n    calculate() {\n        let {valid, tokens} = parse(this.state.expression, this.state.result_currency);\n        if (!valid) {\n            this.setState({error: true});\n            setTimeout(() => this.setState({error: false}), 500);\n            return false;\n        }\n\n        let resultExp = '';\n\n        for (let token of tokens) {\n            if (token.type === 'number' && token.currency !== this.state.result_currency) {\n                token.value = this.api.convert(parseFloat(token.value), token.currency, this.state.result_currency).toString();\n            }\n\n            resultExp += token.value;\n        }\n\n        console.log('Result exp');\n        console.log(resultExp);\n\n        // eslint-disable-next-line\n        let result = eval(resultExp);\n\n        result = Math.round(result * 10000) / 10000;\n\n        this.setState({ result });\n\n        return true;\n    }\n\n    loadExample(arg) {\n        this.setState(arg, this.calculate)\n    }\n\n    render() {\n        return <div className={styles.Calculator}>\n            <div className={styles.examples}>\n                <span onClick={() => this.loadExample({expression: '(45$ * 25 * 0.8) - 2EUR', result_currency: \"JPY\"})} className={styles.example}>Load example</span>\n            </div>\n            <div className={`${styles.inputs} ${this.state.error ? styles.error : ''}`}>\n                <input type=\"text\" className={styles.exppression}\n                       value={this.state.expression}\n                       onChange={this.handleExpressionChange.bind(this)}\n                       ref={this.inputRef}\n                />\n                <Select options={this.selectOptions}\n                        value={this.selectOptions.filter((el) => el.value === this.state.result_currency)[0]}\n                        onChange={this.handleResultCurrencyChange.bind(this)}\n                        className={styles.result_currency}\n                />\n            </div>\n\n            <div className={styles.result}>\n                = {numeral(this.state.result).format('0,0.0000')} {this.state.result_currency}\n            </div>\n\n            <div className={styles.buttons}>\n                <div className={styles.row}>\n                    <CalcButton />\n                    <CalcButton onClick={() => this.addToExpression('(')}>(</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression(')')}>)</CalcButton>\n                    <CalcButton onClick={() => this.setState({expression: '', result: 0})}>AC</CalcButton>\n                </div>\n                <div className={styles.row}>\n                    <CalcButton onClick={() => this.addToExpression('7')}>7</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('8')}>8</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('9')}>9</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('/')}>÷</CalcButton>\n                </div>\n                <div className={styles.row}>\n                    <CalcButton onClick={() => this.addToExpression('4')}>4</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('5')}>5</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('6')}>6</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('*')}>×</CalcButton>\n                </div>\n                <div className={styles.row}>\n                    <CalcButton onClick={() => this.addToExpression('1')}>1</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('2')}>2</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('3')}>3</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('-')}>-</CalcButton>\n                </div>\n                <div className={styles.row}>\n                    <CalcButton onClick={() => this.addToExpression('0')}>0</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('.')}>.</CalcButton>\n                    <CalcButton onClick={this.calculate.bind(this)}>=</CalcButton>\n                    <CalcButton onClick={() => this.addToExpression('+')}>+</CalcButton></div>\n            </div>\n        </div>;\n    }\n\n}\n\nconst mapStateToProps = store => {\n    return {\n        rates: store.rates.data,\n        updated_at: store.rates.updated_at\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        dispatch: dispatch\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Calculator);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalcButton\":\"CalcButton_CalcButton__37TNB\"};","import { currenciesSymbolToCode, currenciesCodesList } from './currencies';\n\nexport default (val, result_currency='USD') => {\n    for (let sym in currenciesSymbolToCode) {\n        val = val.split(sym).join(currenciesSymbolToCode[sym]);\n    }\n    let valid = true;\n    let curPos = 0;\n    let tokens = [];\n    let curToken = null;\n\n    let nestingLevel = 0;\n\n    while (curPos !== val.length) {\n        let curCh = val[curPos];\n        if (/^\\d+$/.test(curCh)) {\n            if (curCh === '0') {\n                if (curToken && curToken.type === 'number') {\n                    curToken.value += curCh;\n\n                } else if (curPos+1 < val.length && val[curPos+1] === '.') {\n                    curToken = {\n                        type: 'number',\n                        value: curCh,\n                        currency: result_currency\n                    };\n\n                } else {\n                    valid = false;\n                    break;\n                }\n            } else {\n                if (curToken) {\n                    if (curToken.type === 'number') {\n                        curToken.value += curCh;\n                    } else {\n                        valid = false;\n                        break;\n                    }\n                } else {\n                    curToken = {\n                        type: 'number',\n                        value: curCh,\n                        currency: result_currency\n                    };\n                }\n            }\n        }\n\n        else if ((/[+\\-×÷/*]/gi).test(curCh)) {\n            if (curToken) tokens.push(curToken);\n            tokens.push({\n                type: 'operator',\n                value: curCh\n            });\n            curToken = null;\n        } else if ((/[()]/gi).test(curCh)) {\n            if (curToken) {\n                if (curToken) tokens.push(curToken);\n                if (curToken.type === 'number' && curCh === '(') {\n                    tokens.push({\n                        type: 'operator',\n                        value: '*'\n                    });\n                }\n                curToken = null;\n            }\n\n            let prevToken = tokens[tokens.length - 1];\n            if (prevToken && prevToken.type === 'bracket') {\n                if (prevToken.value === ')' &&  curCh === '(') {\n                    tokens.push({\n                        type: 'operator',\n                        value: '*'\n                    });\n                } else if (prevToken.value === '(' &&  curCh === ')') {\n                    valid = false;\n                    break;\n                }\n            }\n\n            tokens.push({\n                type: 'bracket',\n                value: curCh\n            });\n            if (curCh === '(') nestingLevel++;\n            if (curCh === ')') nestingLevel--;\n\n            if (nestingLevel < 0) {\n                valid = false;\n                break;\n            }\n\n        } else if (curCh === '.' && curToken && curToken.type === 'number') {\n            curToken.value += curCh;\n        } else if (curCh === ' ') {\n            //skip\n        } else if ((/\\w/gi).test(curCh)) {\n            // We sure that this is first letter of number currency\n            if (curToken) {\n                if (curToken.type === 'number') {\n                    if (curPos+2 <= val.length) {\n                        let currency = val.substr(curPos, 3);\n                        if (!currenciesCodesList.includes(currency)) {\n                            valid = false;\n                            break;\n                        } else {\n                            curToken.currency = currency;\n                            curPos += 2;\n                        }\n                    } else {\n                        valid = false;\n                        break;\n                    }\n                } else {\n                    valid = false;\n                    break;\n                }\n            } else {\n                valid = false;\n                break;\n            }\n        } else {\n            valid = false;\n            break;\n        }\n\n        curPos++;\n    }\n\n    if (curToken) {\n        tokens.push(curToken);\n    }\n\n    if (nestingLevel !== 0) valid = false;\n\n    return {valid, tokens}\n\n};"],"sourceRoot":""}